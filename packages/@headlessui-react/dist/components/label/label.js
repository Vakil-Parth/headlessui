import{createContext as p,useContext as m,useMemo as f,useState as L}from"react";import{useId as b}from'../../hooks/use-id.js';import{forwardRefWithAs as g,render as x}from'../../utils/render.js';import{useIsoMorphicEffect as T}from'../../hooks/use-iso-morphic-effect.js';import{useSyncRefs as E}from'../../hooks/use-sync-refs.js';import{useEvent as P}from'../../hooks/use-event.js';let u=p(null);function c(){let o=m(u);if(o===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,c),t}return o}function M(){let[o,t]=L([]);return[o.length>0?o.join(" "):void 0,f(()=>function(e){let l=P(a=>(t(i=>[...i,a]),()=>t(i=>{let n=i.slice(),d=n.indexOf(a);return d!==-1&&n.splice(d,1),n}))),r=f(()=>({register:l,slot:e.slot,name:e.name,props:e.props}),[l,e.slot,e.name,e.props]);return<u.Provider value={r}>{e.children}</u.Provider>},[t])]}let v="label",F=g(function(t,s){let{passive:e=!1,...l}=t,r=c(),a=`headlessui-label-${b()}`,i=E(s);T(()=>r.register(a),[a,r.register]);let n={ref:i,...r.props,id:a};return e&&("onClick"in n&&delete n.onClick,"onClick"in l&&delete l.onClick),x({ourProps:n,theirProps:l,slot:r.slot||{},defaultTag:v,name:r.name||"Label"})});export{F as Label,M as useLabels};
